# 2021 计算机网络安全

### 1.Get 和 Post 的区别

get 用于获取数据，post用于提交数据；

get 的缓存保存在浏览器和web服务器日志中；

get 使用明文传输，post请求保存在请求体中；

get 长度限制在2048以内



### 2.常见的HTTP请求

get、post、put、delete、head



### 3.http1.0 / http1.1 / http2.0 之间有哪些区别？

http1.0 浏览器与服务器只保持短暂的连接，每次请求都需要与服务器建立一个`TCP`连接；

http1.0 存在宽带资源浪费的现象，例如只需要某个对象的一部分，而服务器却把整个对象传输过来；



http1.1 支持**长链接**，默认开启了keep-alive ，解决了http1.0每次传输都需要创建链接的问题；

http1.1 支持**管道传输** ，一个请求发出去，不必等它回来，就可以发送第二次；

http1.1 使用**持久连接**来时多个HTTP请求复用同一个TCP连接；

http1.1 引入了更多的**缓存策略** Etag 、If-Match、if-None-Match

http1.1 中**新增了 host 字段**，用来指定服务器的域名。



**二进制分帧、多路复用、数据流、头部压缩、基于HTTPS相对安全、服务器推送**

http2.0 使用二进制协议，头部信息和数据体都是二进制，统称为'帧'；

http2.0 多路复用TCP连接，客户端和服务端可以同时发送多个请求；

http2.0 将每个请求和回应都标记一个数据流ID；

http2.0 头部使用gzip 和 compress 压缩头部信息，在客户端和服务器之间共同维护一张头信息索引表，每次请求只发送索引号，就能找到相应的头部信息表；

http2. 0 服务端不再是被动相应，可以主动向客户端发送消息。

![image-20210823230801537](assets\image-20210823230801537.png)



### 5.浏览器中输入www.baidu.com 发生了什么？

（1）、首先判断输入的url是一个合法的连接还是待搜索关键词，如果是个合法的url 👇；

（2）、就进行**缓存判断**，如果浏览器中有缓存资源，则直接访问缓存资源；如果没有，则开始👇;

（3）、**CDN解析**，客户端给**本地CDN服务器**发送一个请求，查看是否存在缓存；如果没有，就向**根域名服务器**发送请求，根域名服务器发现是.com或者.cn后缀的域名；就交给**顶级域名服务器**，顶级域名服务器返回域名信息；转向**权威域名服务器**，权威域名服务器返回对应的IP地址，客户端收到IP地址后进行访问。

（4）、**TCP三次握手**：

​				第一次握手，客户端向服务器发送一个SYN的报文，并初始化序列 ISN; 

​				第二次握手，服务端收到客户端的SYN后，将ISN+1作为自己的ACK值，并以自己的SYN作为应答；

​				第三次握手，客户端收到服务端的SYN后，向服务端发送一个ACK报文，值为ISN+1，服务器收到后双方就建立了连接。

![image-20210824001823518](assets\image-20210824001823518.png)

（5）、**页面渲染**：浏览器将html解析成DOM树，将css解析成CSSOM树，结合DOM树和CSSOM树生产渲染树。接着解析 <script> 标签，JS中遇到了async属性，那么后续文档和JS脚本异步加载，多个带aasync的标签不能保证加载顺序；如果遇到了defer属性，JS脚本需要等待后续文档加载完成之后再进行加载，多个带defer属性的标签能够保证加载顺序。

（6）、**TCP四次挥手**：

​				第一次挥手，客户端向服务器发送一个FIN的报文，之后进入FIN_Wait_1状态；

​				第二次挥手，服务端收到改该报文后，向客户端发送ACK报文作为应答，接着服务端进入closed_wait状态；

​				第三次挥手，客户端收到服务端的ACK报文后，进入FIN_Wait_2状态，等待服务端数据处理完，继续向客户端发送一个FIN报文，之后服务端进入了Last_ack状态；

​				第四次挥手，客户端厚收到服务端的FIN报文后，就进入了Closed 状态，至此服务端已经完成了连接关闭。客户端在经过2msl后，自动进入closed状态，至此客户端进入了完成连接关闭。

![image-20210824002148707](assets\image-20210824002148707.png)





### 6.对Keep-alive的理解

http1.0 默认开启的长链接（`keep-alive` ），使用**持久连接**来使**多个http请求**复用同一个TCP连接，数据传输完成保持TCP连接不断开。具有①减少CPU和内存的使用。②降低阻塞控制。③减小后续请求延迟。



### 7.什么是https协议？TCL/SSL 的工作原理是什么？



https是为了解决http中 ①内容可能被监听②不验证通信方身份的问题 产生的，这里的`s`表示TLS/SSL协议，其中SSL的实现，主要依赖于**对称加密、非对称加密、摘要算法、数字签名**这几种手段。

**对称加密**：加密和解密使用的密钥都是同一个，是对称的。

![image-20210824164440208](assets\image-20210824164440208.png)

**非对称加密**：存在两个密钥，一个公钥，一个私钥。公钥和私钥都可以用来加密解密，公钥加密的必须使用私钥解密。

![image-20210824165106050](assets\image-20210824165106050.png)

**混合加密**：对称加密+非对称加密，具体做法：**发送密文的一方**使用**对方的公钥**对“**对称密钥**”进行加密，然后**对方**用**自己的密钥**对“**对称的密钥**”解密；

![image-20210824181654551](assets\image-20210824181654551.png)

**摘要算法**：把任意长度的密钥压缩成固定长度，形成了一个独一无二的的”摘要“字符串；

摘要算法可以理解为“单向"加密算法，只有算法，没有密钥，加密后的数据无法解密；

但是也不具有机密性，如果黑客把传递的消息和摘要一起改了，完整就鉴别不出完整性！



**数字签名**：使用私钥